{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///iview-imgbox.js","webpack:///webpack/bootstrap a1ab8df590a02bbe1558","webpack:///src/lib/iview-imgbox.vue","webpack:///./src/lib/index.js","webpack:///./src/lib/iview-imgbox.vue","webpack:///./src/lib/iview-imgbox.vue?a13e","webpack:///./src/lib/iview-imgbox.vue?4190","webpack:///./node_modules/css-loader/lib/css-base.js","webpack:///./node_modules/vue-style-loader/lib/addStylesClient.js","webpack:///./node_modules/vue-style-loader/lib/listToStyles.js","webpack:///./node_modules/vue-loader/lib/component-normalizer.js","webpack:///./src/lib/iview-imgbox.vue?d638"],"names":["root","factory","exports","module","define","amd","self","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","_typeof","Symbol","iterator","obj","constructor","data","options","uploadParams","url","headers","method","listParams","deleteParams","pageSize","multiple","limit","onSelect","enableUpload","maxSize","isLoading","visible","selectedImgs","selectedImgCount","uploadSuccessCount","fixThumbInterval","imgRes","list","total","selectAll","page","methods","syncSelectedImgCount","selectedCount","$","each","key","val","loadImgList","_this","arguments","length","undefined","req","assign","rows","ajax","done","res","success","$Message","warning","content","renderimgList","$data","imgs","parseInt","img","err","alert","substr","lastIndexOf","selected","id","push","handlePageChange","handleSelectImage","$message","message","type","handleCancelAll","JSON","parse","stringify","handleDeleteImage","deleteImgageByIds","ids","_this2","$Modal","confirm","title","onOk","reset","error","onCancel","closable","handleDeleteSelectAll","join","beforeUpload","check","$Notice","desc","handleFormatError","file","handleMaxSize","fileLimit","handleSuccess","splice","item","currentPageImgCnt","handleError","fileList","toString","handleCanceAll","handleCancelOrSelectAll","handleSelectAll","select","handleConfirmSelect","cb","Callbacks","add","img_list","fire","changeUnit","size","toFixed","sizeStr","index","indexOf","substring","computed","mounted","value","__WEBPACK_IMPORTED_MODULE_0__iview_imgbox_vue__","iviewImgboxPlugin","install","Vue","CONSTRUCTOR","extend","Imgbox","imgbox","iviewImgbox","$iviewImgbox","$el","vm","$mount","document","querySelector","appendChild","window","use","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_iview_imgbox_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_454b9ddd_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_iview_imgbox_vue__","normalizeComponent","__vue_styles__","Component","locals","cssWithMappingToString","useSourceMap","cssMapping","btoa","sourceMapping","toComment","concat","sources","map","source","sourceRoot","sourceMap","unescape","encodeURIComponent","mediaQuery","alreadyImportedModules","addStylesToDom","styles","domStyle","stylesInDom","refs","j","parts","addStyle","createStyleElement","styleElement","createElement","head","update","remove","ssrIdKey","isProduction","noop","parentNode","removeChild","isOldIE","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","bind","applyToTag","newObj","css","media","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","insertBefore","setAttribute","ssrId","firstChild","hasDocument","DEBUG","Error","listToStyles","getElementsByTagName","navigator","test","userAgent","toLowerCase","parentId","_isProduction","_options","newList","mayRemove","textStore","replacement","filter","Boolean","newStyles","part","rawScriptExports","compiledTemplate","functionalTemplate","injectStyles","scopeId","moduleIdentifier","esModule","scriptExports","default","render","staticRenderFns","_compiled","functional","_scopeId","hook","context","$vnode","parent","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","existing","beforeCreate","_injectStyles","h","_vm","_h","$createElement","_c","_self","attrs","class-name","width","model","callback","$$v","expression","directives","rawName","fix","_v","staticStyle","margin-left","ref","staticClass","action","on-success","on-error","format","accept","max-size","on-format-error","on-exceeded-size","before-upload","show-upload-list","on","click","margin","_l","class","active","style","backgroundImage","$event","_s","stopPropagation","slot","span","on-change","_e","page-size","show-elevator","text-align","padding-left","padding-right","count","esExports"],"mappings":"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","file":"iview-imgbox.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"iview-imgbox\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"iview-imgbox\"] = factory();\n\telse\n\t\troot[\"iview-imgbox\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"iview-imgbox\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"iview-imgbox\"] = factory();\n\telse\n\t\troot[\"iview-imgbox\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: \"iview-imgbox\",\n  data: function data() {\n    return {\n      options: {\n        uploadParams: {\n          url: \"\", // 图片上传URL\n          data: {},\n          headers: {},\n          method: \"POST\"\n        },\n        listParams: {\n          url: \"\", // 图片列表URL\n          data: {},\n          headers: {},\n          method: \"GET\"\n        },\n        deleteParams: {\n          url: \"\", // 删除图片URL\n          data: {},\n          headers: {},\n          method: \"POST\"\n        },\n        pageSize: 18, // 每页展示图片数\n        multiple: true, // 是否支持选取多个图片\n        limit: 5, // 一批次最多可上传图片数\n        onSelect: null, // 选择后回调函数\n        enableUpload: true, // 是否启用图片上传\n        maxSize: 5120 // 最大尺寸（K）\n      },\n      isLoading: true,\n      visible: true,\n      selectedImgs: {},\n      selectedImgCount: 0,\n      uploadSuccessCount: 0,\n      fixThumbInterval: null,\n      imgRes: {\n        list: [],\n        total: 0\n      },\n      selectAll: false,\n      page: 1\n    };\n  },\n\n  methods: {\n    /**\r\n     * 多选时同步已选图片数量\r\n     */\n    syncSelectedImgCount: function syncSelectedImgCount() {\n      var selectedCount = 0;\n      $.each(this.selectedImgs, function (key, val) {\n        selectedCount++;\n      });\n      this.selectedImgCount = selectedCount;\n    },\n\n    /**\r\n     * 加载图片列表数据\r\n     * @param page\r\n     */\n    loadImgList: function loadImgList() {\n      var _this = this;\n\n      var page = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n      this.page = page;\n      var listParams = this.options.listParams;\n      var url = listParams.url;\n\n      if (url == \"\") {\n        return;\n      }\n\n      this.isLoading = true;\n      var pageSize = this.options.pageSize;\n\n      var req = listParams;\n      req[\"data\"] = Object.assign(req.data, { page: page, rows: pageSize });\n\n      $.ajax(req).done(function (res) {\n        //{\n        //     \"code\": 1,\n        //     \"success\": true,\n        //     \"tip\": \"请求成功\",\n        //     \"data\": {\n        //         \"total\": 1,\n        //         \"list\": [\n        //             {\n        //                 \"id\": \"1\",\n        //                 \"name\": \"alired.jpg\",\n        //                 \"url\": \"http://demo.myapiadmin.com.cn/attachment/images/2019/05/LmTMc1J419JVVvs6f96Z6f0Y90y1Xz.jpg\",\n        //                 \"attachment\": \"images/2019/05/LmTMc1J419JVVvs6f96Z6f0Y90y1Xz.jpg\"\n        //             }\n        //         ]\n        //     }\n        // }\n        if (!res.success) {\n          _this.$Message.warning({\n            content: \"程序异常\"\n          });\n          return;\n        }\n\n        var res = res.data;\n\n        _this.renderimgList(res);\n      });\n    },\n\n    /**\r\n     * 渲染数据\r\n     */\n    renderimgList: function renderimgList(res) {\n      var data = this.$data;\n      var imgs = [];\n      data.imgRes.total = parseInt(res.total);\n\n      for (var i in res.list) {\n        var img = res.list[i];\n\n        // 图片缩略图\n        if (typeof img.url !== \"string\") {\n          var err = \"图片数据必须包含'url'属性！\";\n          alert(err);\n          throw err;\n        }\n\n        // 图片名\n        if (typeof img.name !== \"string\") {\n          img.name = img.url.substr(img.url.lastIndexOf(\"/\") + 1);\n        }\n\n        // 图片选中状态\n        img.selected = _typeof(data.selectedImgs[img.id]) === \"object\";\n\n        imgs.push(img);\n      }\n\n      data.imgRes.list = imgs;\n      data.isLoading = false;\n    },\n\n    /**\r\n     * 分页页面变化时刷新数据\r\n     * @param page\r\n     */\n    handlePageChange: function handlePageChange(page) {\n      this.loadImgList(page);\n    },\n\n    /**\r\n     * 点击图片时选中或取消选中图片\r\n     * @param img object\r\n     */\n    handleSelectImage: function handleSelectImage(img) {\n      if (_typeof(this.selectedImgs[img.id]) === \"object\") {\n        // 取消选择图片\n        img.selected = false;\n\n        var selectedImgs = {};\n        if (this.options.multiple) {\n          $.each(this.selectedImgs, function (key, val) {\n            if (key === img.id) {\n              return;\n            }\n            selectedImgs[key] = val;\n          });\n        }\n\n        this.selectedImgs = selectedImgs;\n      } else {\n        // 选择图片\n        if (this.options.limit > 0 && this.selectedImgCount >= this.options.limit) {\n          this.$message({\n            message: \"最多只能选择\" + this.options.limit + \"张图片\",\n            type: \"warning\"\n          });\n          return;\n        }\n\n        if (!this.options.multiple) {\n          // 单选时，取消已选\n          this.handleCancelAll();\n        }\n\n        img.selected = true;\n        this.selectedImgs[img.id] = JSON.parse(JSON.stringify(img));\n      }\n\n      this.syncSelectedImgCount();\n    },\n\n    /**\r\n     *  取消已选\r\n     */\n    handleCancelAll: function handleCancelAll() {\n      this.selectedImgCount = 0;\n      this.selectedImgs = {};\n      for (var i in this.imgRes.list) {\n        this.imgRes.list[i].selected = false;\n      }\n    },\n\n    /**\r\n     *  删除选中\r\n     */\n    handleDeleteImage: function handleDeleteImage(img) {\n      this.deleteImgageByIds(img.id);\n    },\n\n    /**\r\n     * 删除图片请求\r\n     */\n    deleteImgageByIds: function deleteImgageByIds(ids) {\n      var _this2 = this;\n\n      var deleteParams = this.options.deleteParams;\n      var url = deleteParams.url;\n\n      if (url == \"\") {\n        return;\n      }\n\n      this.$Modal.confirm({\n        title: \"提示\",\n        content: \"删除不可恢复,确认删除么?\",\n        onOk: function onOk() {\n          var pageSize = _this2.options.pageSize;\n          var req = deleteParams;\n          req[\"data\"] = Object.assign(req.data, { ids: ids });\n\n          $.ajax(req).done(function (res) {\n            if (res.success) {\n              _this2.$Message.success(\"删除成功\");\n\n              _this2.loadImgList(_this2.page);\n              _this2.reset();\n            } else {\n              _this2.$Message.error(\"删除失败\");\n            }\n          });\n        },\n        onCancel: function onCancel() {},\n        closable: true\n      });\n    },\n\n    /**\r\n     * 批量删除选中\r\n     */\n    handleDeleteSelectAll: function handleDeleteSelectAll() {\n      if (this.selectedImgCount <= 0) {\n        return this.$Message.warning(\"请选择要删除的图片\");\n      }\n      var ids = [];\n      $.each(this.selectedImgs, function (key, val) {\n        ids.push(key);\n      });\n      ids = ids.join(\",\");\n      this.deleteImgageByIds(ids);\n    },\n\n    /**\r\n     * 上传之前验证\r\n     */\n    beforeUpload: function beforeUpload() {\n      var check = this.uploadSuccessCount < this.options.limit;\n      if (!check) {\n        this.$Notice.warning({\n          title: \"文件数量超限\",\n          desc: \"上传图片数量不能超过\" + this.options.limit + \"张\"\n        });\n      }\n      return check;\n    },\n\n    /**\r\n     * 上传格式错误\r\n     */\n    handleFormatError: function handleFormatError(file) {\n      this.$Notice.warning({\n        title: \"不支持的文件格式\",\n        desc: \"所选文件‘ \" + file.name + \" ’格式不正确, 请选择 .jpg .jpeg .png .gif .bmp格式文件\"\n      });\n    },\n\n    /**\r\n     * 上传大小超限\r\n     */\n    handleMaxSize: function handleMaxSize(file) {\n      this.$Notice.warning({\n        title: \"文件大小过大\",\n        desc: \"所选文件‘ \" + file.name + \" ’大小过大, 不得超过 \" + this.fileLimit + \".\"\n      });\n    },\n\n    /**\r\n     * 上传成功\r\n     */\n    handleSuccess: function handleSuccess(res, file) {\n      // {\n      //     \"code\":1,\n      //     \"success\":true,\n      //     \"tip\":\"上传成功\",\n      //     \"data\":{\n      //         \"item\":{\n      //             \"id\":\"LS2oBKS5\",\n      //             \"name\":\"演示图片lala\",\n      //             \"url\":\"http://imgbox.imcm.me/test/img/04.jpg\",\n      //             \"attachment\":\"\"\n      //         },\n      //         \"total\":\"1\"\n      //     }\n      // }\n      if (res.success == true) {\n        var data = this.$data;\n        data.imgRes.list.splice(0, 0, res.data.item);\n        var currentPageImgCnt = data.imgRes.list.length;\n        // 超出本页移除\n        if (currentPageImgCnt > this.options.pageSize) {\n          data.imgRes.list.splice(currentPageImgCnt - 1, 1);\n        }\n        data.imgRes.total = res.data.total;\n      } else {\n        this.$Message.error(res.message);\n      }\n    },\n\n    /**\r\n     * 上传失败\r\n     */\n    handleError: function handleError(error, file, fileList) {\n      this.$Message.error(error.toString());\n    },\n\n    /**\r\n     *  全不选\r\n     */\n    handleCanceAll: function handleCanceAll() {\n      this.handleCancelOrSelectAll(false);\n    },\n\n    /**\r\n     *  全选\r\n     */\n    handleSelectAll: function handleSelectAll() {\n      this.handleCancelOrSelectAll(true);\n    },\n\n    /**\r\n     *  全选/全不选\r\n     */\n    handleCancelOrSelectAll: function handleCancelOrSelectAll(select) {\n      var selectedImgCount = 0;\n      var selectedImgs = {};\n      if (select) {\n        selectedImgCount = this.imgRes.list.length;\n        $.each(this.imgRes.list, function (key, img) {\n          selectedImgs[img.id] = JSON.parse(JSON.stringify(img));\n        });\n      }\n      this.selectedImgCount = selectedImgCount;\n      this.selectedImgs = selectedImgs;\n      for (var i in this.imgRes.list) {\n        this.imgRes.list[i].selected = select;\n      }\n    },\n\n    /**\r\n     * 确认选择从列表选择的图片\r\n     */\n    handleConfirmSelect: function handleConfirmSelect() {\n      if (typeof this.options.onSelect !== \"function\") {\n        this.$Message.error(\"请先设置回调函数\");\n        return false;\n      }\n\n      var cb = $.Callbacks();\n      cb.add(this.options.onSelect);\n\n      // 单选返回一个图片\n      var img_list = [];\n      for (var i in this.selectedImgs) {\n        img_list.push(this.selectedImgs[i]);\n      }\n      cb.fire(img_list);\n\n      // 隐藏弹窗\n      this.visible = false;\n      this.reset();\n    },\n\n    /**\r\n     * 重置参数\r\n     */\n    reset: function reset() {\n      this.uploadSuccessCount = 0;\n      this.handleCancelAll();\n    },\n\n    /**\r\n     * 文件大小转换kb转其他\r\n     */\n    changeUnit: function changeUnit(limit) {\n      var size = \"\";\n      if (limit < 0.1 * 1024) {\n        //小于0.1MB，则转化成KB\n        size = limit.toFixed(2) + \"KB\";\n      } else if (limit < 0.1 * 1024 * 1024) {\n        //小于0.1GB，则转化成MB\n        size = (limit / 1024).toFixed(2) + \"MB\";\n      } else {\n        //其他转化成GB\n        size = (limit / (1024 * 1024)).toFixed(2) + \"GB\";\n      }\n\n      var sizeStr = size + \"\"; //转成字符串\n      var index = sizeStr.indexOf(\".\"); //获取小数点处的索引\n      var dou = sizeStr.substr(index + 1, 2); //获取小数点后两位的值\n      if (dou == \"00\") {\n        //判断后两位是否为00，如果是则删除00\n        return sizeStr.substring(0, index) + sizeStr.substr(index + 3, 2);\n      }\n      return size;\n    }\n  },\n  computed: {\n    fileLimit: function fileLimit() {\n      return this.changeUnit(this.options.maxSize);\n    }\n  },\n  mounted: function mounted() {\n    this.loadImgList();\n  }\n});\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__iview_imgbox_vue__ = __webpack_require__(2);\n\n\nvar iviewImgboxPlugin = {\n  install: function install(Vue) {\n    var CONSTRUCTOR = Vue.extend(__WEBPACK_IMPORTED_MODULE_0__iview_imgbox_vue__[\"a\" /* default */]);\n\n    // 插件实例（共享）\n    var imgbox = void 0;\n\n    Vue.iviewImgbox = Vue.prototype.$iviewImgbox = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      imgbox || (imgbox = new CONSTRUCTOR());\n\n      // for (const i in options) {\n      //   imgbox.options[i] = options[i]\n      // }\n      imgbox.options = $.extend(true, {}, imgbox.options, options);\n\n      if (!imgbox.$el) {\n        var vm = imgbox.$mount();\n        document.querySelector('body').appendChild(vm.$el);\n      }\n\n      // 已选取上传tab但上传未启用，则转到图片选取（仅演示时有这种情况，正式使用不会有）\n      // if (imgbox.activeTab === 'upload' && !imgbox.options.enableUpload) {\n      //   imgbox.activeTab = 'pick'\n      // }\n\n      // 切换为单选时（实际应用一般不会发生），清空所有选项\n      if (!imgbox.options.multiple) {\n        imgbox.handleCancelAll();\n      }\n\n      imgbox.visible = true;\n\n      return imgbox;\n    };\n  }\n};\n\n// 自动启用插件\nif (typeof window !== 'undefined' && window.Vue) {\n  window.Vue.use(iviewImgboxPlugin);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (iviewImgboxPlugin);\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_iview_imgbox_vue__ = __webpack_require__(0);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_454b9ddd_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_iview_imgbox_vue__ = __webpack_require__(9);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(3)\n}\nvar normalizeComponent = __webpack_require__(8)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-454b9ddd\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_iview_imgbox_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_454b9ddd_hasScoped_true_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_iview_imgbox_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(4);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(6)(\"0b10aeac\", content, true, {});\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(5)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".vertical-center-modal[data-v-454b9ddd]{display:flex;align-items:center;justify-content:center}.vertical-center-modal .ivu-modal[data-v-454b9ddd]{top:0}.img-body[data-v-454b9ddd]{height:460px}.img-container[data-v-454b9ddd]{display:flex;display:-webkit-flex;padding:10px 10px 41px;flex-wrap:wrap;max-height:460px;overflow-y:hidden}.img-container .item[data-v-454b9ddd]{flex:none;position:relative;width:calc(20% - 40px);margin:5px;text-align:center;vertical-align:middle;background-color:#eee;background-size:contain;background-repeat:no-repeat;background-position:50% 50%}.img-container .item[data-v-454b9ddd]:before{content:\\\"\\\";display:inline-block;padding-bottom:100%;width:.1px;vertical-align:middle}.img-container .item[data-v-454b9ddd]:hover{outline:2px solid #3296fa}.img-container .item:hover .del[data-v-454b9ddd]{display:block}.img-container .item .mask[data-v-454b9ddd]{position:absolute;top:0;right:0;bottom:0;left:0;z-index:5;background-color:rgba(0,0,0,.5);text-align:center;display:none}.img-container .item.active .mask[data-v-454b9ddd]{display:block}.img-container .item .mask .ivu-icon[data-v-454b9ddd]{color:#fff;font-size:32px;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.img-container .item .del[data-v-454b9ddd]{position:absolute;width:34px;line-height:34px;text-align:center;background-color:#3296fa;cursor:pointer;bottom:0;right:0;z-index:6;color:#fff;display:none}.img-container .item .name[data-v-454b9ddd]{position:absolute;bottom:0;left:0;width:100%;line-height:34px;background:rgba(0,0,0,.5);color:#fff;padding:0 20px;text-align:left;z-index:2;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.my-modal .upload[data-v-454b9ddd]{display:inline-block}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\nvar listToStyles = __webpack_require__(7)\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\nvar options = null\nvar ssrIdKey = 'data-vue-ssr-id'\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nmodule.exports = function (parentId, list, _isProduction, _options) {\n  isProduction = _isProduction\n\n  options = _options || {}\n\n  var styles = listToStyles(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = listToStyles(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[' + ssrIdKey + '~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n  if (options.ssrId) {\n    styleElement.setAttribute(ssrIdKey, obj.id)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nmodule.exports = function listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\n/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file.\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = injectStyles\n  }\n\n  if (hook) {\n    var functional = options.functional\n    var existing = functional\n      ? options.render\n      : options.beforeCreate\n\n    if (!functional) {\n      // inject component registration as beforeCreate hook\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    } else {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return existing(h, context)\n      }\n    }\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Modal',{attrs:{\"title\":\"图片\",\"class-name\":\"my-modal vertical-center-modal\",\"width\":\"900px;\"},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('Spin',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLoading),expression:\"isLoading\"}],attrs:{\"fix\":\"\",\"size\":\"large\"}}),_vm._v(\" \"),_c('Row',{staticStyle:{\"margin-left\":\"20px\"}},[_c('Upload',{ref:\"up\",staticClass:\"upload\",attrs:{\"action\":_vm.options.uploadParams.url,\"data\":_vm.options.uploadParams.data,\"headers\":_vm.options.uploadParams.headers,\"on-success\":_vm.handleSuccess,\"on-error\":_vm.handleError,\"format\":['jpg','jpeg','png','gif','bmp'],\"accept\":\".jpg, .jpeg, .png, .gif, .bmp\",\"max-size\":_vm.options.maxSize,\"on-format-error\":_vm.handleFormatError,\"on-exceeded-size\":_vm.handleMaxSize,\"before-upload\":_vm.beforeUpload,\"show-upload-list\":false,\"multiple\":true}},[_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"large\"}},[_vm._v(\"上传图片\")])],1),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"error\",\"size\":\"large\"},on:{\"click\":_vm.handleDeleteSelectAll}},[_vm._v(\"删除\")])],1),_vm._v(\" \"),_c('Divider',{staticStyle:{\"margin\":\"10px 0 0 0\"},attrs:{\"size\":\"small\"}}),_vm._v(\" \"),_c('div',{staticClass:\"img-body\"},[_c('div',{staticClass:\"img-container\"},_vm._l((_vm.imgRes.list),function(img){return _c('div',{key:img.id,staticClass:\"item\",class:{'active':img.selected},style:({backgroundImage: 'url(' + img.url + ')'}),on:{\"click\":function($event){return _vm.handleSelectImage(img)}}},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(img.name))]),_vm._v(\" \"),_c('div',{staticClass:\"mask\"},[_c('Icon',{attrs:{\"type\":\"md-checkmark\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"del\",on:{\"click\":function($event){$event.stopPropagation();return _vm.handleDeleteImage(img)}}},[_c('Icon',{attrs:{\"type\":\"md-trash\",\"size\":\"16\"}})],1)])}),0)]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Row',[_c('Col',{attrs:{\"span\":\"2\"}},[(_vm.options.multiple)?_c('Checkbox',{attrs:{\"size\":\"large\"},on:{\"on-change\":function($event){return _vm.handleCancelOrSelectAll(_vm.selectAll)}},model:{value:(_vm.selectAll),callback:function ($$v) {_vm.selectAll=$$v},expression:\"selectAll\"}},[_vm._v(\"全选\")]):_vm._e()],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"22\"}},[_c('Page',{attrs:{\"total\":_vm.imgRes.total,\"page-size\":_vm.options.pageSize,\"show-elevator\":\"\"},on:{\"on-change\":_vm.handlePageChange}})],1)],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('Row',[_c('Col',{staticStyle:{\"text-align\":\"center\"}},[_c('Button',{staticStyle:{\"padding-left\":\"50px\",\"padding-right\":\"50px\"},attrs:{\"size\":\"large\"}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('Badge',{attrs:{\"count\":_vm.selectedImgCount}},[_c('Button',{staticStyle:{\"padding-left\":\"50px\",\"padding-right\":\"50px\",\"margin-left\":\"30px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleConfirmSelect}},[_vm._v(\"确定\")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// iview-imgbox.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a1ab8df590a02bbe1558","<template>\r\n  <div>\r\n    <Modal v-model=\"visible\" title=\"图片\" class-name=\"my-modal vertical-center-modal\" width=\"900px;\">\r\n      <Spin fix size=\"large\" v-show=\"isLoading\"></Spin>\r\n\r\n      <Row style=\"margin-left:20px;\">\r\n        <Upload\r\n          :action=\"options.uploadParams.url\"\r\n          :data=\"options.uploadParams.data\"\r\n          :headers=\"options.uploadParams.headers\"\r\n          :on-success=\"handleSuccess\"\r\n          :on-error=\"handleError\"\r\n          :format=\"['jpg','jpeg','png','gif','bmp']\"\r\n          accept=\".jpg, .jpeg, .png, .gif, .bmp\"\r\n          :max-size=\"options.maxSize\"\r\n          :on-format-error=\"handleFormatError\"\r\n          :on-exceeded-size=\"handleMaxSize\"\r\n          :before-upload=\"beforeUpload\"\r\n          :show-upload-list=\"false\"\r\n          :multiple=\"true\"\r\n          ref=\"up\"\r\n          class=\"upload\"\r\n        >\r\n          <Button type=\"primary\" size=\"large\">上传图片</Button>\r\n        </Upload>\r\n        <Button\r\n          type=\"error\"\r\n          size=\"large\"\r\n          style=\"margin-left:10px;\"\r\n          @click=\"handleDeleteSelectAll\"\r\n        >删除</Button>\r\n      </Row>\r\n      <Divider style=\"margin:10px 0 0 0;\" size=\"small\"/>\r\n      <div class=\"img-body\">\r\n        <div class=\"img-container\">\r\n          <div\r\n            class=\"item\"\r\n            v-for=\"img in imgRes.list\"\r\n            :key=\"img.id\"\r\n            :style=\"{backgroundImage: 'url(' + img.url + ')'}\"\r\n            @click=\"handleSelectImage(img)\"\r\n            :class=\"{'active':img.selected}\"\r\n          >\r\n            <div class=\"name\">{{img.name}}</div>\r\n            <div class=\"mask\">\r\n              <Icon type=\"md-checkmark\"/>\r\n            </div>\r\n            <div class=\"del\" @click.stop=\"handleDeleteImage(img)\">\r\n              <Icon type=\"md-trash\" size=\"16\"/>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div slot=\"footer\">\r\n        <Row>\r\n          <Col span=\"2\">\r\n            <Checkbox\r\n              v-if=\"options.multiple\"\r\n              v-model=\"selectAll\"\r\n              size=\"large\"\r\n              @on-change=\"handleCancelOrSelectAll(selectAll)\"\r\n            >全选</Checkbox>\r\n          </Col>\r\n          <Col span=\"22\">\r\n            <Page\r\n              :total=\"imgRes.total\"\r\n              :page-size=\"options.pageSize\"\r\n              show-elevator\r\n              @on-change=\"handlePageChange\"\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <br>\r\n        <Row>\r\n          <Col style=\"text-align:center;\">\r\n            <Button size=\"large\" style=\"padding-left:50px;padding-right:50px;\">取消</Button>\r\n            <Badge :count=\"selectedImgCount\">\r\n              <Button\r\n                @click=\"handleConfirmSelect\"\r\n                type=\"primary\"\r\n                style=\"padding-left:50px;padding-right:50px;margin-left:30px;\"\r\n              >确定</Button>\r\n            </Badge>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"iview-imgbox\",\r\n  data() {\r\n    return {\r\n      options: {\r\n        uploadParams: {\r\n          url: \"\", // 图片上传URL\r\n          data: {},\r\n          headers: {},\r\n          method: \"POST\"\r\n        },\r\n        listParams: {\r\n          url: \"\", // 图片列表URL\r\n          data: {},\r\n          headers: {},\r\n          method: \"GET\"\r\n        },\r\n        deleteParams: {\r\n          url: \"\", // 删除图片URL\r\n          data: {},\r\n          headers: {},\r\n          method: \"POST\"\r\n        },\r\n        pageSize: 18, // 每页展示图片数\r\n        multiple: true, // 是否支持选取多个图片\r\n        limit: 5, // 一批次最多可上传图片数\r\n        onSelect: null, // 选择后回调函数\r\n        enableUpload: true, // 是否启用图片上传\r\n        maxSize: 5120 // 最大尺寸（K）\r\n      },\r\n      isLoading: true,\r\n      visible: true,\r\n      selectedImgs: {},\r\n      selectedImgCount: 0,\r\n      uploadSuccessCount: 0,\r\n      fixThumbInterval: null,\r\n      imgRes: {\r\n        list: [],\r\n        total: 0\r\n      },\r\n      selectAll: false,\r\n      page: 1\r\n    };\r\n  },\r\n  methods: {\r\n    /**\r\n     * 多选时同步已选图片数量\r\n     */\r\n    syncSelectedImgCount() {\r\n      let selectedCount = 0;\r\n      $.each(this.selectedImgs, function(key, val) {\r\n        selectedCount++;\r\n      });\r\n      this.selectedImgCount = selectedCount;\r\n    },\r\n    /**\r\n     * 加载图片列表数据\r\n     * @param page\r\n     */\r\n    loadImgList(page = 1) {\r\n      this.page = page;\r\n      let listParams = this.options.listParams;\r\n      const url = listParams.url;\r\n\r\n      if (url == \"\") {\r\n        return;\r\n      }\r\n\r\n      this.isLoading = true;\r\n      let pageSize = this.options.pageSize;\r\n\r\n      let req = listParams;\r\n      req[\"data\"] = Object.assign(req.data, { page: page, rows: pageSize });\r\n\r\n      $.ajax(req).done(res => {\r\n        //{\r\n        //     \"code\": 1,\r\n        //     \"success\": true,\r\n        //     \"tip\": \"请求成功\",\r\n        //     \"data\": {\r\n        //         \"total\": 1,\r\n        //         \"list\": [\r\n        //             {\r\n        //                 \"id\": \"1\",\r\n        //                 \"name\": \"alired.jpg\",\r\n        //                 \"url\": \"http://demo.myapiadmin.com.cn/attachment/images/2019/05/LmTMc1J419JVVvs6f96Z6f0Y90y1Xz.jpg\",\r\n        //                 \"attachment\": \"images/2019/05/LmTMc1J419JVVvs6f96Z6f0Y90y1Xz.jpg\"\r\n        //             }\r\n        //         ]\r\n        //     }\r\n        // }\r\n        if (!res.success) {\r\n          this.$Message.warning({\r\n            content: \"程序异常\"\r\n          });\r\n          return;\r\n        }\r\n\r\n        var res = res.data;\r\n\r\n        this.renderimgList(res);\r\n      });\r\n    },\r\n    /**\r\n     * 渲染数据\r\n     */\r\n    renderimgList(res) {\r\n      let data = this.$data;\r\n      let imgs = [];\r\n      data.imgRes.total = parseInt(res.total);\r\n\r\n      for (const i in res.list) {\r\n        let img = res.list[i];\r\n\r\n        // 图片缩略图\r\n        if (typeof img.url !== \"string\") {\r\n          let err = \"图片数据必须包含'url'属性！\";\r\n          alert(err);\r\n          throw err;\r\n        }\r\n\r\n        // 图片名\r\n        if (typeof img.name !== \"string\") {\r\n          img.name = img.url.substr(img.url.lastIndexOf(\"/\") + 1);\r\n        }\r\n\r\n        // 图片选中状态\r\n        img.selected = typeof data.selectedImgs[img.id] === \"object\";\r\n\r\n        imgs.push(img);\r\n      }\r\n\r\n      data.imgRes.list = imgs;\r\n      data.isLoading = false;\r\n    },\r\n    /**\r\n     * 分页页面变化时刷新数据\r\n     * @param page\r\n     */\r\n    handlePageChange(page) {\r\n      this.loadImgList(page);\r\n    },\r\n    /**\r\n     * 点击图片时选中或取消选中图片\r\n     * @param img object\r\n     */\r\n    handleSelectImage(img) {\r\n      if (typeof this.selectedImgs[img.id] === \"object\") {\r\n        // 取消选择图片\r\n        img.selected = false;\r\n\r\n        let selectedImgs = {};\r\n        if (this.options.multiple) {\r\n          $.each(this.selectedImgs, function(key, val) {\r\n            if (key === img.id) {\r\n              return;\r\n            }\r\n            selectedImgs[key] = val;\r\n          });\r\n        }\r\n\r\n        this.selectedImgs = selectedImgs;\r\n      } else {\r\n        // 选择图片\r\n        if (\r\n          this.options.limit > 0 &&\r\n          this.selectedImgCount >= this.options.limit\r\n        ) {\r\n          this.$message({\r\n            message: \"最多只能选择\" + this.options.limit + \"张图片\",\r\n            type: \"warning\"\r\n          });\r\n          return;\r\n        }\r\n\r\n        if (!this.options.multiple) {\r\n          // 单选时，取消已选\r\n          this.handleCancelAll();\r\n        }\r\n\r\n        img.selected = true;\r\n        this.selectedImgs[img.id] = JSON.parse(JSON.stringify(img));\r\n      }\r\n\r\n      this.syncSelectedImgCount();\r\n    },\r\n    /**\r\n     *  取消已选\r\n     */\r\n    handleCancelAll() {\r\n      this.selectedImgCount = 0;\r\n      this.selectedImgs = {};\r\n      for (const i in this.imgRes.list) {\r\n        this.imgRes.list[i].selected = false;\r\n      }\r\n    },\r\n    /**\r\n     *  删除选中\r\n     */\r\n    handleDeleteImage(img) {\r\n      this.deleteImgageByIds(img.id);\r\n    },\r\n    /**\r\n     * 删除图片请求\r\n     */\r\n    deleteImgageByIds(ids) {\r\n      let deleteParams = this.options.deleteParams;\r\n      const url = deleteParams.url;\r\n\r\n      if (url == \"\") {\r\n        return;\r\n      }\r\n\r\n      this.$Modal.confirm({\r\n        title: \"提示\",\r\n        content: \"删除不可恢复,确认删除么?\",\r\n        onOk: () => {\r\n          let pageSize = this.options.pageSize;\r\n          let req = deleteParams;\r\n          req[\"data\"] = Object.assign(req.data, { ids: ids });\r\n\r\n          $.ajax(req).done(res => {\r\n            if (res.success) {\r\n              this.$Message.success(\"删除成功\");\r\n\r\n              this.loadImgList(this.page);\r\n              this.reset();\r\n            } else {\r\n              this.$Message.error(\"删除失败\");\r\n            }\r\n          });\r\n        },\r\n        onCancel: () => {},\r\n        closable: true\r\n      });\r\n    },\r\n    /**\r\n     * 批量删除选中\r\n     */\r\n    handleDeleteSelectAll() {\r\n      if (this.selectedImgCount <= 0) {\r\n        return this.$Message.warning(\"请选择要删除的图片\");\r\n      }\r\n      let ids = [];\r\n      $.each(this.selectedImgs, function(key, val) {\r\n        ids.push(key);\r\n      });\r\n      ids = ids.join(\",\");\r\n      this.deleteImgageByIds(ids);\r\n    },\r\n    /**\r\n     * 上传之前验证\r\n     */\r\n    beforeUpload() {\r\n      const check = this.uploadSuccessCount < this.options.limit;\r\n      if (!check) {\r\n        this.$Notice.warning({\r\n          title: \"文件数量超限\",\r\n          desc: \"上传图片数量不能超过\" + this.options.limit + \"张\"\r\n        });\r\n      }\r\n      return check;\r\n    },\r\n    /**\r\n     * 上传格式错误\r\n     */\r\n    handleFormatError(file) {\r\n      this.$Notice.warning({\r\n        title: \"不支持的文件格式\",\r\n        desc:\r\n          \"所选文件‘ \" +\r\n          file.name +\r\n          \" ’格式不正确, 请选择 .jpg .jpeg .png .gif .bmp格式文件\"\r\n      });\r\n    },\r\n    /**\r\n     * 上传大小超限\r\n     */\r\n    handleMaxSize(file) {\r\n      this.$Notice.warning({\r\n        title: \"文件大小过大\",\r\n        desc:\r\n          \"所选文件‘ \" +\r\n          file.name +\r\n          \" ’大小过大, 不得超过 \" +\r\n          this.fileLimit +\r\n          \".\"\r\n      });\r\n    },\r\n    /**\r\n     * 上传成功\r\n     */\r\n    handleSuccess(res, file) {\r\n      // {\r\n      //     \"code\":1,\r\n      //     \"success\":true,\r\n      //     \"tip\":\"上传成功\",\r\n      //     \"data\":{\r\n      //         \"item\":{\r\n      //             \"id\":\"LS2oBKS5\",\r\n      //             \"name\":\"演示图片lala\",\r\n      //             \"url\":\"http://imgbox.imcm.me/test/img/04.jpg\",\r\n      //             \"attachment\":\"\"\r\n      //         },\r\n      //         \"total\":\"1\"\r\n      //     }\r\n      // }\r\n      if (res.success == true) {\r\n        let data = this.$data;\r\n        data.imgRes.list.splice(0, 0, res.data.item);\r\n        let currentPageImgCnt = data.imgRes.list.length;\r\n        // 超出本页移除\r\n        if (currentPageImgCnt > this.options.pageSize) {\r\n          data.imgRes.list.splice(currentPageImgCnt - 1, 1);\r\n        }\r\n        data.imgRes.total = res.data.total;\r\n      } else {\r\n        this.$Message.error(res.message);\r\n      }\r\n    },\r\n    /**\r\n     * 上传失败\r\n     */\r\n    handleError(error, file, fileList) {\r\n      this.$Message.error(error.toString());\r\n    },\r\n    /**\r\n     *  全不选\r\n     */\r\n    handleCanceAll() {\r\n      this.handleCancelOrSelectAll(false);\r\n    },\r\n    /**\r\n     *  全选\r\n     */\r\n    handleSelectAll() {\r\n      this.handleCancelOrSelectAll(true);\r\n    },\r\n    /**\r\n     *  全选/全不选\r\n     */\r\n    handleCancelOrSelectAll(select) {\r\n      let selectedImgCount = 0;\r\n      let selectedImgs = {};\r\n      if (select) {\r\n        selectedImgCount = this.imgRes.list.length;\r\n        $.each(this.imgRes.list, function(key, img) {\r\n          selectedImgs[img.id] = JSON.parse(JSON.stringify(img));\r\n        });\r\n      }\r\n      this.selectedImgCount = selectedImgCount;\r\n      this.selectedImgs = selectedImgs;\r\n      for (const i in this.imgRes.list) {\r\n        this.imgRes.list[i].selected = select;\r\n      }\r\n    },\r\n    /**\r\n     * 确认选择从列表选择的图片\r\n     */\r\n    handleConfirmSelect() {\r\n      if (typeof this.options.onSelect !== \"function\") {\r\n        this.$Message.error(\"请先设置回调函数\");\r\n        return false;\r\n      }\r\n\r\n      const cb = $.Callbacks();\r\n      cb.add(this.options.onSelect);\r\n\r\n      // 单选返回一个图片\r\n      let img_list = [];\r\n      for (const i in this.selectedImgs) {\r\n        img_list.push(this.selectedImgs[i]);\r\n      }\r\n      cb.fire(img_list);\r\n\r\n      // 隐藏弹窗\r\n      this.visible = false;\r\n      this.reset();\r\n    },\r\n    /**\r\n     * 重置参数\r\n     */\r\n    reset() {\r\n      this.uploadSuccessCount = 0;\r\n      this.handleCancelAll();\r\n    },\r\n    /**\r\n     * 文件大小转换kb转其他\r\n     */\r\n    changeUnit(limit) {\r\n      var size = \"\";\r\n      if (limit < 0.1 * 1024) {\r\n        //小于0.1MB，则转化成KB\r\n        size = limit.toFixed(2) + \"KB\";\r\n      } else if (limit < 0.1 * 1024 * 1024) {\r\n        //小于0.1GB，则转化成MB\r\n        size = (limit / 1024).toFixed(2) + \"MB\";\r\n      } else {\r\n        //其他转化成GB\r\n        size = (limit / (1024 * 1024)).toFixed(2) + \"GB\";\r\n      }\r\n\r\n      var sizeStr = size + \"\"; //转成字符串\r\n      var index = sizeStr.indexOf(\".\"); //获取小数点处的索引\r\n      var dou = sizeStr.substr(index + 1, 2); //获取小数点后两位的值\r\n      if (dou == \"00\") {\r\n        //判断后两位是否为00，如果是则删除00\r\n        return sizeStr.substring(0, index) + sizeStr.substr(index + 3, 2);\r\n      }\r\n      return size;\r\n    }\r\n  },\r\n  computed: {\r\n    fileLimit() {\r\n      return this.changeUnit(this.options.maxSize);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadImgList();\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style lang=\"\" scoped>\r\n.vertical-center-modal {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.vertical-center-modal .ivu-modal {\r\n  top: 0;\r\n}\r\n\r\n.img-body {\r\n  height: 460px;\r\n}\r\n\r\n.img-container {\r\n  display: flex;\r\n  display: -webkit-flex;\r\n  padding: 10px 10px 41px;\r\n  flex-wrap: wrap;\r\n  max-height: 460px;\r\n  overflow-y: hidden;\r\n}\r\n\r\n.img-container .item {\r\n  flex: none;\r\n  position: relative;\r\n  width: calc(20% - 40px); /*图片宽*/\r\n  margin: 5px; /*图片间间距*/\r\n  text-align: center;\r\n  vertical-align: middle;\r\n  background-color: #eee;\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  background-position: 50% 50%;\r\n}\r\n\r\n.img-container .item:before {\r\n  content: \"\";\r\n  display: inline-block;\r\n  padding-bottom: 100%;\r\n  width: 0.1px;\r\n  vertical-align: middle;\r\n}\r\n\r\n.img-container .item:hover {\r\n  outline: 2px solid #3296fa;\r\n}\r\n\r\n.img-container .item:hover .del {\r\n  display: block;\r\n}\r\n\r\n.img-container .item .mask {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  z-index: 5;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  text-align: center;\r\n  display: none;\r\n}\r\n\r\n.img-container .item.active .mask {\r\n  display: block;\r\n}\r\n\r\n.img-container .item .mask .ivu-icon {\r\n  color: #fff;\r\n  font-size: 32px;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  -webkit-transform: translate(-50%, -50%);\r\n  -moz-transform: translate(-50%, -50%);\r\n  transform: translate(-50%, -50%);\r\n}\r\n\r\n.img-container .item .del {\r\n  position: absolute;\r\n  width: 34px;\r\n  line-height: 34px;\r\n  text-align: center;\r\n  background-color: #3296fa;\r\n  cursor: pointer;\r\n  bottom: 0;\r\n  right: 0;\r\n  z-index: 6;\r\n  color: #ffffff;\r\n  display: none;\r\n}\r\n\r\n.img-container .item .name {\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  line-height: 34px;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  color: #fff;\r\n  padding: 0 20px;\r\n  text-align: left;\r\n  z-index: 2;\r\n}\r\n\r\n.img-container .item .name {\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n}\r\n\r\n.my-modal .upload {\r\n  display: inline-block;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/lib/iview-imgbox.vue","import Imgbox from './iview-imgbox.vue'\r\n\r\nconst iviewImgboxPlugin = {\r\n  install(Vue) {\r\n    const CONSTRUCTOR = Vue.extend(Imgbox)\r\n\r\n    // 插件实例（共享）\r\n    let imgbox\r\n\r\n    Vue.iviewImgbox = Vue.prototype.$iviewImgbox = function (options = {}) {\r\n      imgbox || (imgbox = new CONSTRUCTOR())\r\n\r\n      // for (const i in options) {\r\n      //   imgbox.options[i] = options[i]\r\n      // }\r\n      imgbox.options = $.extend(true, {}, imgbox.options, options);\r\n\r\n      if (!imgbox.$el) {\r\n        let vm = imgbox.$mount()\r\n        document.querySelector('body').appendChild(vm.$el)\r\n      }\r\n\r\n      // 已选取上传tab但上传未启用，则转到图片选取（仅演示时有这种情况，正式使用不会有）\r\n      // if (imgbox.activeTab === 'upload' && !imgbox.options.enableUpload) {\r\n      //   imgbox.activeTab = 'pick'\r\n      // }\r\n\r\n      // 切换为单选时（实际应用一般不会发生），清空所有选项\r\n      if (!imgbox.options.multiple) {\r\n        imgbox.handleCancelAll()\r\n      }\r\n\r\n      imgbox.visible = true\r\n\r\n      return imgbox\r\n    }\r\n  }\r\n}\r\n\r\n// 自动启用插件\r\nif (typeof window !== 'undefined' && window.Vue) {\r\n  window.Vue.use(iviewImgboxPlugin)\r\n}\r\n\r\nexport default iviewImgboxPlugin\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/index.js","function injectStyle (ssrContext) {\n  require(\"!!vue-style-loader!css-loader?minimize!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-454b9ddd\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./iview-imgbox.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./iview-imgbox.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./iview-imgbox.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-454b9ddd\\\",\\\"hasScoped\\\":true,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./iview-imgbox.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-454b9ddd\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/lib/iview-imgbox.vue\n// module id = 2\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?minimize!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-454b9ddd\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./iview-imgbox.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"0b10aeac\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader!./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-454b9ddd\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/lib/iview-imgbox.vue\n// module id = 3\n// module chunks = 0","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".vertical-center-modal[data-v-454b9ddd]{display:flex;align-items:center;justify-content:center}.vertical-center-modal .ivu-modal[data-v-454b9ddd]{top:0}.img-body[data-v-454b9ddd]{height:460px}.img-container[data-v-454b9ddd]{display:flex;display:-webkit-flex;padding:10px 10px 41px;flex-wrap:wrap;max-height:460px;overflow-y:hidden}.img-container .item[data-v-454b9ddd]{flex:none;position:relative;width:calc(20% - 40px);margin:5px;text-align:center;vertical-align:middle;background-color:#eee;background-size:contain;background-repeat:no-repeat;background-position:50% 50%}.img-container .item[data-v-454b9ddd]:before{content:\\\"\\\";display:inline-block;padding-bottom:100%;width:.1px;vertical-align:middle}.img-container .item[data-v-454b9ddd]:hover{outline:2px solid #3296fa}.img-container .item:hover .del[data-v-454b9ddd]{display:block}.img-container .item .mask[data-v-454b9ddd]{position:absolute;top:0;right:0;bottom:0;left:0;z-index:5;background-color:rgba(0,0,0,.5);text-align:center;display:none}.img-container .item.active .mask[data-v-454b9ddd]{display:block}.img-container .item .mask .ivu-icon[data-v-454b9ddd]{color:#fff;font-size:32px;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.img-container .item .del[data-v-454b9ddd]{position:absolute;width:34px;line-height:34px;text-align:center;background-color:#3296fa;cursor:pointer;bottom:0;right:0;z-index:6;color:#fff;display:none}.img-container .item .name[data-v-454b9ddd]{position:absolute;bottom:0;left:0;width:100%;line-height:34px;background:rgba(0,0,0,.5);color:#fff;padding:0 20px;text-align:left;z-index:2;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.my-modal .upload[data-v-454b9ddd]{display:inline-block}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?minimize!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-454b9ddd\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/lib/iview-imgbox.vue\n// module id = 4\n// module chunks = 0","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader/lib/css-base.js\n// module id = 5\n// module chunks = 0","/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n  Modified by Evan You @yyx990803\n*/\n\nvar hasDocument = typeof document !== 'undefined'\n\nif (typeof DEBUG !== 'undefined' && DEBUG) {\n  if (!hasDocument) {\n    throw new Error(\n    'vue-style-loader cannot be used in a non-browser environment. ' +\n    \"Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.\"\n  ) }\n}\n\nvar listToStyles = require('./listToStyles')\n\n/*\ntype StyleObject = {\n  id: number;\n  parts: Array<StyleObjectPart>\n}\n\ntype StyleObjectPart = {\n  css: string;\n  media: string;\n  sourceMap: ?string\n}\n*/\n\nvar stylesInDom = {/*\n  [id: number]: {\n    id: number,\n    refs: number,\n    parts: Array<(obj?: StyleObjectPart) => void>\n  }\n*/}\n\nvar head = hasDocument && (document.head || document.getElementsByTagName('head')[0])\nvar singletonElement = null\nvar singletonCounter = 0\nvar isProduction = false\nvar noop = function () {}\nvar options = null\nvar ssrIdKey = 'data-vue-ssr-id'\n\n// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n// tags it will allow on a page\nvar isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\\b/.test(navigator.userAgent.toLowerCase())\n\nmodule.exports = function (parentId, list, _isProduction, _options) {\n  isProduction = _isProduction\n\n  options = _options || {}\n\n  var styles = listToStyles(parentId, list)\n  addStylesToDom(styles)\n\n  return function update (newList) {\n    var mayRemove = []\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i]\n      var domStyle = stylesInDom[item.id]\n      domStyle.refs--\n      mayRemove.push(domStyle)\n    }\n    if (newList) {\n      styles = listToStyles(parentId, newList)\n      addStylesToDom(styles)\n    } else {\n      styles = []\n    }\n    for (var i = 0; i < mayRemove.length; i++) {\n      var domStyle = mayRemove[i]\n      if (domStyle.refs === 0) {\n        for (var j = 0; j < domStyle.parts.length; j++) {\n          domStyle.parts[j]()\n        }\n        delete stylesInDom[domStyle.id]\n      }\n    }\n  }\n}\n\nfunction addStylesToDom (styles /* Array<StyleObject> */) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i]\n    var domStyle = stylesInDom[item.id]\n    if (domStyle) {\n      domStyle.refs++\n      for (var j = 0; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j])\n      }\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j]))\n      }\n      if (domStyle.parts.length > item.parts.length) {\n        domStyle.parts.length = item.parts.length\n      }\n    } else {\n      var parts = []\n      for (var j = 0; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j]))\n      }\n      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }\n    }\n  }\n}\n\nfunction createStyleElement () {\n  var styleElement = document.createElement('style')\n  styleElement.type = 'text/css'\n  head.appendChild(styleElement)\n  return styleElement\n}\n\nfunction addStyle (obj /* StyleObjectPart */) {\n  var update, remove\n  var styleElement = document.querySelector('style[' + ssrIdKey + '~=\"' + obj.id + '\"]')\n\n  if (styleElement) {\n    if (isProduction) {\n      // has SSR styles and in production mode.\n      // simply do nothing.\n      return noop\n    } else {\n      // has SSR styles but in dev mode.\n      // for some reason Chrome can't handle source map in server-rendered\n      // style tags - source maps in <style> only works if the style tag is\n      // created and inserted dynamically. So we remove the server rendered\n      // styles and inject new ones.\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  if (isOldIE) {\n    // use singleton mode for IE9.\n    var styleIndex = singletonCounter++\n    styleElement = singletonElement || (singletonElement = createStyleElement())\n    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)\n    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)\n  } else {\n    // use multi-style-tag mode in all other cases\n    styleElement = createStyleElement()\n    update = applyToTag.bind(null, styleElement)\n    remove = function () {\n      styleElement.parentNode.removeChild(styleElement)\n    }\n  }\n\n  update(obj)\n\n  return function updateStyle (newObj /* StyleObjectPart */) {\n    if (newObj) {\n      if (newObj.css === obj.css &&\n          newObj.media === obj.media &&\n          newObj.sourceMap === obj.sourceMap) {\n        return\n      }\n      update(obj = newObj)\n    } else {\n      remove()\n    }\n  }\n}\n\nvar replaceText = (function () {\n  var textStore = []\n\n  return function (index, replacement) {\n    textStore[index] = replacement\n    return textStore.filter(Boolean).join('\\n')\n  }\n})()\n\nfunction applyToSingletonTag (styleElement, index, remove, obj) {\n  var css = remove ? '' : obj.css\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = replaceText(index, css)\n  } else {\n    var cssNode = document.createTextNode(css)\n    var childNodes = styleElement.childNodes\n    if (childNodes[index]) styleElement.removeChild(childNodes[index])\n    if (childNodes.length) {\n      styleElement.insertBefore(cssNode, childNodes[index])\n    } else {\n      styleElement.appendChild(cssNode)\n    }\n  }\n}\n\nfunction applyToTag (styleElement, obj) {\n  var css = obj.css\n  var media = obj.media\n  var sourceMap = obj.sourceMap\n\n  if (media) {\n    styleElement.setAttribute('media', media)\n  }\n  if (options.ssrId) {\n    styleElement.setAttribute(ssrIdKey, obj.id)\n  }\n\n  if (sourceMap) {\n    // https://developer.chrome.com/devtools/docs/javascript-debugging\n    // this makes source maps inside style tags work properly in Chrome\n    css += '\\n/*# sourceURL=' + sourceMap.sources[0] + ' */'\n    // http://stackoverflow.com/a/26603875\n    css += '\\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'\n  }\n\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild)\n    }\n    styleElement.appendChild(document.createTextNode(css))\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader/lib/addStylesClient.js\n// module id = 6\n// module chunks = 0","/**\n * Translates the list format produced by css-loader into something\n * easier to manipulate.\n */\nmodule.exports = function listToStyles (parentId, list) {\n  var styles = []\n  var newStyles = {}\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i]\n    var id = item[0]\n    var css = item[1]\n    var media = item[2]\n    var sourceMap = item[3]\n    var part = {\n      id: parentId + ':' + i,\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    }\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = { id: id, parts: [part] })\n    } else {\n      newStyles[id].parts.push(part)\n    }\n  }\n  return styles\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-style-loader/lib/listToStyles.js\n// module id = 7\n// module chunks = 0","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file.\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nmodule.exports = function normalizeComponent (\n  rawScriptExports,\n  compiledTemplate,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */\n) {\n  var esModule\n  var scriptExports = rawScriptExports = rawScriptExports || {}\n\n  // ES6 modules interop\n  var type = typeof rawScriptExports.default\n  if (type === 'object' || type === 'function') {\n    esModule = rawScriptExports\n    scriptExports = rawScriptExports.default\n  }\n\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (compiledTemplate) {\n    options.render = compiledTemplate.render\n    options.staticRenderFns = compiledTemplate.staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = injectStyles\n  }\n\n  if (hook) {\n    var functional = options.functional\n    var existing = functional\n      ? options.render\n      : options.beforeCreate\n\n    if (!functional) {\n      // inject component registration as beforeCreate hook\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    } else {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functioal component in vue file\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return existing(h, context)\n      }\n    }\n  }\n\n  return {\n    esModule: esModule,\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/component-normalizer.js\n// module id = 8\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Modal',{attrs:{\"title\":\"图片\",\"class-name\":\"my-modal vertical-center-modal\",\"width\":\"900px;\"},model:{value:(_vm.visible),callback:function ($$v) {_vm.visible=$$v},expression:\"visible\"}},[_c('Spin',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isLoading),expression:\"isLoading\"}],attrs:{\"fix\":\"\",\"size\":\"large\"}}),_vm._v(\" \"),_c('Row',{staticStyle:{\"margin-left\":\"20px\"}},[_c('Upload',{ref:\"up\",staticClass:\"upload\",attrs:{\"action\":_vm.options.uploadParams.url,\"data\":_vm.options.uploadParams.data,\"headers\":_vm.options.uploadParams.headers,\"on-success\":_vm.handleSuccess,\"on-error\":_vm.handleError,\"format\":['jpg','jpeg','png','gif','bmp'],\"accept\":\".jpg, .jpeg, .png, .gif, .bmp\",\"max-size\":_vm.options.maxSize,\"on-format-error\":_vm.handleFormatError,\"on-exceeded-size\":_vm.handleMaxSize,\"before-upload\":_vm.beforeUpload,\"show-upload-list\":false,\"multiple\":true}},[_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"large\"}},[_vm._v(\"上传图片\")])],1),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"error\",\"size\":\"large\"},on:{\"click\":_vm.handleDeleteSelectAll}},[_vm._v(\"删除\")])],1),_vm._v(\" \"),_c('Divider',{staticStyle:{\"margin\":\"10px 0 0 0\"},attrs:{\"size\":\"small\"}}),_vm._v(\" \"),_c('div',{staticClass:\"img-body\"},[_c('div',{staticClass:\"img-container\"},_vm._l((_vm.imgRes.list),function(img){return _c('div',{key:img.id,staticClass:\"item\",class:{'active':img.selected},style:({backgroundImage: 'url(' + img.url + ')'}),on:{\"click\":function($event){return _vm.handleSelectImage(img)}}},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(img.name))]),_vm._v(\" \"),_c('div',{staticClass:\"mask\"},[_c('Icon',{attrs:{\"type\":\"md-checkmark\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"del\",on:{\"click\":function($event){$event.stopPropagation();return _vm.handleDeleteImage(img)}}},[_c('Icon',{attrs:{\"type\":\"md-trash\",\"size\":\"16\"}})],1)])}),0)]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Row',[_c('Col',{attrs:{\"span\":\"2\"}},[(_vm.options.multiple)?_c('Checkbox',{attrs:{\"size\":\"large\"},on:{\"on-change\":function($event){return _vm.handleCancelOrSelectAll(_vm.selectAll)}},model:{value:(_vm.selectAll),callback:function ($$v) {_vm.selectAll=$$v},expression:\"selectAll\"}},[_vm._v(\"全选\")]):_vm._e()],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"22\"}},[_c('Page',{attrs:{\"total\":_vm.imgRes.total,\"page-size\":_vm.options.pageSize,\"show-elevator\":\"\"},on:{\"on-change\":_vm.handlePageChange}})],1)],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('Row',[_c('Col',{staticStyle:{\"text-align\":\"center\"}},[_c('Button',{staticStyle:{\"padding-left\":\"50px\",\"padding-right\":\"50px\"},attrs:{\"size\":\"large\"}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('Badge',{attrs:{\"count\":_vm.selectedImgCount}},[_c('Button',{staticStyle:{\"padding-left\":\"50px\",\"padding-right\":\"50px\",\"margin-left\":\"30px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleConfirmSelect}},[_vm._v(\"确定\")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-454b9ddd\",\"hasScoped\":true,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/lib/iview-imgbox.vue\n// module id = 9\n// module chunks = 0"],"sourceRoot":""}